From 90f6e432e06e9ec1480a24b37f5ffe5dec4f75fc Mon Sep 17 00:00:00 2001
From: Thomas Eschenbacher <Thomas.Eschenbacher@gmx.de>
Date: Sun, 5 Jul 2015 09:19:26 +0200
Subject: [PATCH] compile fix for armv7l

---
 CHANGES                             | 3 +++
 plugins/sonagram/SonagramPlugin.cpp | 5 +----
 plugins/sonagram/SonagramPlugin.h   | 3 +++
 3 files changed, 7 insertions(+), 4 deletions(-)

diff --git a/plugins/sonagram/SonagramPlugin.cpp b/plugins/sonagram/SonagramPlugin.cpp
index 63d76f7..b7dd520 100644
--- a/plugins/sonagram/SonagramPlugin.cpp
+++ b/plugins/sonagram/SonagramPlugin.cpp
@@ -429,7 +429,7 @@ void Kwave::SonagramPlugin::calculateSlice(Kwave::SonagramPlugin::Slice *slice)
 	double ima = slice->m_output[j][1];
 	double a = ((rea * rea) + (ima * ima)) / scale;
 
-	slice->m_result[j] = static_cast<unsigned char>(qMin(a, qreal(254.0)));
+	slice->m_result[j] = static_cast<unsigned char>(qMin(a, double(254.0)));
     }
 
     // free the allocated FFT resources
-- 
2.6.2

